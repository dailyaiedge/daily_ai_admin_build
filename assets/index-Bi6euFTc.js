import{r as o,k as R,j as e,B as r}from"./index-BxVb6ltQ.js";import{a as i,c as A}from"./index.esm-CChbR1ph.js";import{C as P,F as y,f as q,a as _}from"./index-Ce7N8cMZ.js";import{c as E,d as S,e as B}from"./data.service-CoSfPdfZ.js";import{C as I,a as H}from"./CRow-DmxGXYKA.js";import{C as U,a as M}from"./CCardBody-C0jiNvG8.js";import{C as O}from"./CCardHeader-Bjsw1vHB.js";import{C as $}from"./CFormInput-vBJGrpfW.js";import{C as z,a as K,b,c as l,d as L,e as n}from"./CTable-CyLo9tRJ.js";import{c as W}from"./cib-react-Djjz4A1D.js";import{C as G}from"./DefaultLayout-BAcIpF3w.js";import{C as J}from"./CFormSelect-De6Q5FXt.js";import"./auth.service-CbJX0zWn.js";const ie=()=>{const[C,N]=o.useState([]),[Q,c]=o.useState(!1),[f,w]=o.useState(""),[d,u]=o.useState(1),[h,v]=o.useState(10),[m,k]=o.useState(1),T=async s=>{let a=new Array;s.forEach(t=>{a.push(t)}),N(a)},x=async()=>{c(!0);try{const s=await E(d,h,f);s.msg==="no-section"?(r.warning("There is no information!"),c(!1)):(await T(s.requests),k(s.pages),c(!1))}catch(s){r.error(s)}};o.useEffect(()=>{x()},[d,h,f]);const p=R(),D=s=>{p(s)},g=async(s,a)=>{try{let t=new FormData;t.append("_id",s._id),t.append("allowed",a),c(!0);const j=await S(t);j.msg==="no-section"?(r.warning("There is no information!"),c(!1)):j.msg==="create"?(r.success("New Request was created!"),x()):j.msg==="update"&&(r.success("The Request information was updated!"),x())}catch(t){r.error(t.response.data)}},F=async s=>{try{c(!0);let a=new FormData;a.append("_id",s==null?void 0:s._id),a.append("imgUrl",s==null?void 0:s.imgUrl);const t=await B(a);t.msg==="no-section"?(r.warning("There is no information!"),c(!1)):t.msg==="delete"&&(r.success("Request was deleted successfully!"),x())}catch(a){r.error(a.response.data)}};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"AI Tools"}),e.jsx(I,{children:e.jsx(H,{xs:!0,children:e.jsxs(U,{className:"mb-4",children:[e.jsx(O,{children:e.jsxs("div",{className:"d-flex flex-row justify-content-between",children:[e.jsx($,{type:"text",placeholder:"Filter by All",onKeyDown:s=>{s.key==="Enter"&&w(s.target.value)},className:"form-control",style:{width:"10rem",left:"0"}}),e.jsx(i,{color:"success",className:"text-light",onClick:()=>{D("/tool_form")},children:"Add New AI Tool"})]})}),e.jsx(M,{children:e.jsxs(z,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[e.jsx(K,{className:"text-nowrap",children:e.jsxs(b,{children:[e.jsx(l,{className:"bg-body-tertiary text-center",children:e.jsx(A,{icon:W})}),e.jsx(l,{className:"bg-body-tertiary",children:"Name"}),e.jsx(l,{className:"bg-body-tertiary text-center",children:"Category"}),e.jsx(l,{className:"bg-body-tertiary",children:"Website"}),e.jsx(l,{className:"bg-body-tertiary",children:"Email"}),e.jsx(l,{className:"bg-body-tertiary",children:"Price"}),e.jsx(l,{className:"bg-body-tertiary text-center",children:"Allow/Deny"}),e.jsx(l,{className:"bg-body-tertiary text-center",children:"Edit"}),e.jsx(l,{className:"bg-body-tertiary text-center",children:"Delete"})]})}),e.jsx(L,{children:C.map((s,a)=>e.jsxs(b,{"v-for":"item in tableItems",children:[e.jsx(n,{className:"text-center",children:e.jsx(G,{size:"md",src:s.imgUrl})}),e.jsx(n,{children:e.jsx("div",{children:s.name})}),e.jsx(n,{className:"text-center",children:e.jsx("div",{children:s.category})}),e.jsx(n,{children:e.jsx("div",{className:"d-flex justify-content-between",children:e.jsx("div",{className:"fw-semibold",children:e.jsx("a",{className:"text-info form-link",target:"_blank",href:s.link,children:s.link})})})}),e.jsx(n,{children:e.jsx("div",{className:"d-flex justify-content-between",children:e.jsx("div",{className:"fw-semibold",children:e.jsx("a",{className:"text-success form-link",target:"_blank",href:`mailTo:${s.email}`,children:s.email})})})}),e.jsx(n,{children:e.jsx("div",{className:"text-danger",children:s.price})}),e.jsx(n,{className:"text-center",children:s.allowed?e.jsx(i,{color:"dark",className:"text-light",shape:"rounded-pill",onClick:()=>{g(s,!1)},children:"Deny"}):e.jsx(i,{color:"success",className:"text-light",shape:"rounded-pill",onClick:()=>{g(s,!0)},children:"Allow"})}),e.jsx(n,{className:"text-center",children:e.jsx(i,{color:"primary",className:"text-light",shape:"rounded-pill",onClick:()=>{p(`/tool_form/${s._id}`)},children:"Edit"})}),e.jsx(n,{className:"text-center",children:e.jsx(i,{color:"danger",className:"text-light",shape:"rounded-pill",onClick:()=>{F(s)},children:"Delete"})})]},a))})]})}),e.jsx(P,{children:e.jsxs("div",{className:"d-flex justify-content-center align-items-center",children:[e.jsxs(J,{value:h,onChange:s=>v(Number(s.target.value)),className:"form-select position-absolute mx-1",style:{width:"5rem",left:"0"},children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"})]}),e.jsx(i,{onClick:()=>u(s=>Math.max(s-1,1)),disabled:d===1||m===0,className:"btn btn-secondary mx-2",children:e.jsx(y,{icon:q})}),e.jsxs("span",{children:["Page ",d," of ",m]}),e.jsx(i,{onClick:()=>u(s=>Math.min(s+1,m)),disabled:d===m||m===0,className:"btn btn-secondary mx-2",children:e.jsx(y,{icon:_})})]})})]})})})]})};export{ie as default};
